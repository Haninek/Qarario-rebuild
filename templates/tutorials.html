
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform Tutorials - Qarari</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
            --shadow-soft: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --backdrop-blur: blur(4px);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-morphism {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
        }

        .tutorial-card {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
            height: 100%;
            overflow: hidden;
            cursor: pointer;
        }

        .tutorial-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .tutorial-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin-bottom: 1.5rem;
        }

        .demo-container {
            background: rgba(0,0,0,0.8);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            color: white;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }

        .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            transform: scale(1.2);
        }

        .step.completed {
            background: linear-gradient(45deg, #00f2fe, #4facfe);
        }

        .tutorial-content {
            display: none;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            margin-top: 20px;
        }

        .tutorial-content.active {
            display: block;
        }

        .interactive-demo {
            background: rgba(255,255,255,0.9);
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .code-snippet {
            background: #1a1a1a;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            margin: 15px 0;
            border-left: 4px solid #00f2fe;
        }

        .navbar {
            background: var(--glass-bg) !important;
            backdrop-filter: var(--backdrop-blur);
            border: none !important;
        }

        .navbar-brand {
            font-weight: 800;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .floating-help {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .help-bubble {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 50px;
            padding: 15px 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .help-bubble:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .mock-dashboard {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            color: #333;
        }

        .mock-button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.2s ease;
        }

        .mock-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .progress-bar-custom {
            height: 8px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-graduation-cap me-2"></i>Qarari Tutorials
            </a>
            <div class="d-flex align-items-center">
                <a href="/dashboard" class="btn btn-outline-light">
                    <i class="fas fa-home me-1"></i>Dashboard
                </a>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <div class="container mt-4 mb-5">
        <div class="glass-morphism p-5 text-center text-white">
            <h1 class="display-4 fw-bold mb-3">
                <i class="fas fa-play-circle me-3"></i>Interactive Tutorial Center
            </h1>
            <p class="fs-5 opacity-90 mb-4">
                Learn every feature with hands-on interactive tutorials and live demonstrations
            </p>
            <div class="row g-3 justify-content-center">
                <div class="col-auto">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-mouse-pointer me-2"></i>
                        <span>Interactive Demos</span>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-code me-2"></i>
                        <span>Live Code Examples</span>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-hands-helping me-2"></i>
                        <span>Step-by-Step Guides</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Start Section -->
    <div class="container mb-5">
        <h2 class="text-white mb-4 text-center">
            <i class="fas fa-rocket me-2"></i>Quick Start Guide
        </h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="tutorial-card p-4 text-center position-relative" data-tutorial="platform-overview">
                    <div class="tutorial-icon mx-auto" style="background: linear-gradient(45deg, #667eea, #764ba2);">
                        <i class="fas fa-compass"></i>
                    </div>
                    <h5 class="text-white mb-3">Platform Overview</h5>
                    <p class="text-white-50 mb-3">Interactive tour of the dashboard and navigation</p>
                    <button class="btn btn-light btn-sm">
                        <i class="fas fa-mouse-pointer me-1"></i>Start Interactive Tour
                    </button>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tutorial-card p-4 text-center position-relative" data-tutorial="first-assessment">
                    <div class="tutorial-icon mx-auto" style="background: linear-gradient(45deg, #4facfe, #00f2fe);">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h5 class="text-white mb-3">Your First Assessment</h5>
                    <p class="text-white-50 mb-3">Step-by-step guide with live form demo</p>
                    <button class="btn btn-light btn-sm">
                        <i class="fas fa-play me-1"></i>Try Live Demo
                    </button>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tutorial-card p-4 text-center position-relative" data-tutorial="understanding-results">
                    <div class="tutorial-icon mx-auto" style="background: linear-gradient(45deg, #43e97b, #38f9d7);">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h5 class="text-white mb-3">Understanding Results</h5>
                    <p class="text-white-50 mb-3">Interactive score interpretation guide</p>
                    <button class="btn btn-light btn-sm">
                        <i class="fas fa-calculator me-1"></i>Explore Scoring
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Core Features Tutorials -->
    <div class="container mb-5">
        <h2 class="text-white mb-4 text-center">
            <i class="fas fa-gem me-2"></i>Core Features
        </h2>
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="tutorial-card p-4" data-tutorial="risk-scorecard">
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #667eea, #764ba2); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">Smart Risk Scorecard</h5>
                            <p class="text-white-50 mb-3">Interactive AI-driven assessment demo</p>
                            <button class="btn btn-light btn-sm">Try Live Scoring</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="tutorial-card p-4" data-tutorial="form-builder">
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #fa709a, #fee140); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">Form Builder</h5>
                            <p class="text-white-50 mb-3">Hands-on form customization tutorial</p>
                            <button class="btn btn-light btn-sm">Build a Form</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tutorial Modal -->
    <div class="modal fade" id="tutorialModal" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content" style="background: rgba(0,0,0,0.95); border: none;">
                <div class="modal-header border-0">
                    <h5 class="modal-title text-white" id="modalTitle"></h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="tutorialSteps"></div>
                    
                    <div class="d-flex justify-content-between mt-4">
                        <button class="btn btn-outline-light" id="prevBtn" onclick="previousStep()" disabled>
                            <i class="fas fa-arrow-left me-1"></i>Previous
                        </button>
                        <button class="btn btn-light" id="nextBtn" onclick="nextStep()">
                            Next<i class="fas fa-arrow-right ms-1"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Help -->
    <div class="floating-help">
        <div class="help-bubble" onclick="showQuickHelp()">
            <i class="fas fa-question-circle me-2"></i>Need Help?
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Ensure Bootstrap is available before initializing
        function waitForBootstrap(callback) {
            if (typeof bootstrap !== 'undefined') {
                callback();
            } else {
                setTimeout(() => waitForBootstrap(callback), 100);
            }
        }

        // Initialize when DOM and Bootstrap are ready
        document.addEventListener('DOMContentLoaded', function() {
            waitForBootstrap(function() {
                console.log('Bootstrap successfully loaded and ready');
                initializeTutorials();
            });
        });

        function initializeTutorials() {
            // Add click listeners to tutorial cards
            document.querySelectorAll('.tutorial-card').forEach(card => {
                card.addEventListener('click', function() {
                    const tutorialId = this.getAttribute('data-tutorial');
                    if (tutorialId && tutorials[tutorialId]) {
                        openTutorial(tutorialId);
                    }
                });
            });
        }
    </script>
    <script>
        // Tutorial definitions with interactive content
        const tutorials = {
            'platform-overview': {
                title: 'Platform Overview - Interactive Tour',
                steps: [
                    {
                        title: 'Welcome to Qarari',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-home me-2"></i>Dashboard Overview</h4>
                                <div class="mock-dashboard">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h6>Main Navigation</h6>
                                        <span class="badge bg-success">Live Demo</span>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <button class="mock-button w-100 mb-2" onclick="highlightFeature('scorecard')">
                                                <i class="fas fa-calculator me-2"></i>Risk Scorecard
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <button class="mock-button w-100 mb-2" onclick="highlightFeature('builder')">
                                                <i class="fas fa-tools me-2"></i>Form Builder
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <button class="mock-button w-100 mb-2" onclick="highlightFeature('insights')">
                                                <i class="fas fa-chart-line me-2"></i>Insights
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <button class="mock-button w-100 mb-2" onclick="highlightFeature('admin')">
                                                <i class="fas fa-shield-alt me-2"></i>Admin
                                            </button>
                                        </div>
                                    </div>
                                    <div id="feature-highlight" class="mt-3 p-3 bg-light rounded" style="display: none;">
                                        <p>Click any button above to see feature details!</p>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <p><strong>Try it:</strong> Click the buttons above to explore each feature!</p>
                                </div>
                            </div>
                        `
                    },
                    {
                        title: 'Navigation & Layout',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-map me-2"></i>Understanding the Interface</h4>
                                <div class="interactive-demo">
                                    <h6>Key Interface Elements:</h6>
                                    <ul>
                                        <li><strong>Dashboard:</strong> Central hub for all activities</li>
                                        <li><strong>Risk Scorecard:</strong> Main assessment tool</li>
                                        <li><strong>Form Builder:</strong> Customize assessment forms</li>
                                        <li><strong>Analytics:</strong> View insights and trends</li>
                                        <li><strong>Admin Panel:</strong> System management</li>
                                    </ul>
                                </div>
                                <div class="code-snippet">
                                    <strong>Quick Navigation Tips:</strong><br>
                                    • Use breadcrumbs to track your location<br>
                                    • Access help tooltips with the "?" icon<br>
                                    • Return to dashboard anytime via the home button
                                </div>
                            </div>
                        `
                    },
                    {
                        title: 'Getting Started Checklist',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-tasks me-2"></i>Your First Steps</h4>
                                <div class="interactive-demo">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="check1" onchange="updateProgress()">
                                        <label class="form-check-label" for="check1">
                                            Explore the dashboard layout
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="check2" onchange="updateProgress()">
                                        <label class="form-check-label" for="check2">
                                            Try the Risk Scorecard with sample data
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="check3" onchange="updateProgress()">
                                        <label class="form-check-label" for="check3">
                                            Review the Form Builder
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="check4" onchange="updateProgress()">
                                        <label class="form-check-label" for="check4">
                                            Check out the Analytics dashboard
                                        </label>
                                    </div>
                                    <div class="progress-bar-custom">
                                        <div class="progress-fill" id="onboardingProgress" style="width: 0%"></div>
                                    </div>
                                    <p class="mt-2"><span id="progressText">0</span>% Complete</p>
                                </div>
                                <button class="btn btn-success" onclick="window.open('/dashboard', '_blank')">
                                    <i class="fas fa-external-link-alt me-1"></i>Open Dashboard
                                </button>
                            </div>
                        `
                    }
                ]
            },
            'first-assessment': {
                title: 'Your First Assessment - Live Demo',
                steps: [
                    {
                        title: 'Starting an Assessment',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-play me-2"></i>Launch the Risk Scorecard</h4>
                                <div class="interactive-demo">
                                    <p>Let's create your first risk assessment together:</p>
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-2"></i>
                                        <strong>Step 1:</strong> Click the button below to see how the assessment form loads
                                    </div>
                                    <div class="mock-dashboard">
                                        <button class="btn btn-primary btn-lg w-100" onclick="simulateFormLoad()">
                                            <i class="fas fa-calculator me-2"></i>Start New Assessment (Demo)
                                        </button>
                                        <div id="form-preview" style="display: none;" class="mt-3 p-3 border rounded bg-light">
                                            <h6><i class="fas fa-check-circle text-success me-2"></i>Assessment Form Loaded!</h6>
                                            <div class="row g-3">
                                                <div class="col-md-6">
                                                    <label class="form-label">Owner 1 Credit Score</label>
                                                    <input type="number" class="form-control" placeholder="Enter score (300-850)" 
                                                           onchange="updateDemoScore(this.value)">
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="form-label">Business Revenue</label>
                                                    <input type="number" class="form-control" placeholder="Annual revenue"
                                                           onchange="updateDemoRevenue(this.value)">
                                                </div>
                                                <div class="col-12">
                                                    <div id="demo-result" class="alert alert-success" style="display: none;">
                                                        <strong>Demo Result:</strong> <span id="demo-score-text"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="text-muted mt-2">
                                                <i class="fas fa-lightbulb me-1"></i>
                                                This is a preview - try entering values to see real-time scoring!
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <button class="btn btn-success me-2" onclick="window.open('/score', '_blank')">
                                        <i class="fas fa-external-link-alt me-1"></i>Try Real Assessment
                                    </button>
                                    <button class="btn btn-outline-light" onclick="showAssessmentTips()">
                                        <i class="fas fa-tips me-1"></i>Show Tips
                                    </button>
                                </div>
                                <div id="assessment-tips" style="display: none;" class="mt-3 p-3 border rounded">
                                    <h6><i class="fas fa-star me-2"></i>Pro Tips:</h6>
                                    <ul class="mb-0">
                                        <li>Higher credit scores (700+) significantly improve assessment results</li>
                                        <li>Consistent revenue streams are weighted heavily in scoring</li>
                                        <li>Complete all sections for the most accurate assessment</li>
                                        <li>Recent financial data (within 90 days) provides better accuracy</li>
                                    </ul>
                                </div>
                            </div>
                        `
                    },
                    {
                        title: 'Filling the Form',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-edit me-2"></i>Form Completion Tips</h4>
                                <div class="interactive-demo">
                                    <h6>Best Practices for Accurate Assessments:</h6>
                                    <div class="accordion" id="tipsAccordion">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" data-bs-toggle="collapse" data-bs-target="#tip1">
                                                    <i class="fas fa-user me-2"></i>Personal Credit Information
                                                </button>
                                            </h2>
                                            <div id="tip1" class="accordion-collapse collapse show" data-bs-parent="#tipsAccordion">
                                                <div class="accordion-body">
                                                    Enter the most recent credit scores and ensure accuracy. Higher scores significantly improve risk assessment.
                                                </div>
                                            </div>
                                        </div>
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#tip2">
                                                    <i class="fas fa-building me-2"></i>Business Information
                                                </button>
                                            </h2>
                                            <div id="tip2" class="accordion-collapse collapse" data-bs-parent="#tipsAccordion">
                                                <div class="accordion-body">
                                                    Provide current financial data within 90 days for the most accurate assessment.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        title: 'Understanding Your Results',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-chart-bar me-2"></i>Sample Results</h4>
                                <div class="interactive-demo">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header bg-success text-white">
                                                    <h6><i class="fas fa-trophy me-2"></i>Risk Score: 78</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Risk Tier:</strong> Low Risk</p>
                                                    <div class="progress mb-2">
                                                        <div class="progress-bar bg-success" style="width: 78%">78%</div>
                                                    </div>
                                                    <small>Excellent creditworthiness</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header bg-info text-white">
                                                    <h6><i class="fas fa-handshake me-2"></i>Loan Offers</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Available:</strong> 3 offers</p>
                                                    <p><strong>Best Rate:</strong> 6.5% APR</p>
                                                    <p><strong>Max Amount:</strong> $500,000</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ]
            },
            'form-builder': {
                title: 'Form Builder - Hands-on Tutorial',
                steps: [
                    {
                        title: 'Builder Interface Tour',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-tools me-2"></i>Form Builder Overview</h4>
                                <div class="interactive-demo">
                                    <p>The Form Builder allows you to customize assessment forms with:</p>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <ul>
                                                <li><i class="fas fa-plus text-success me-2"></i>Add new questions</li>
                                                <li><i class="fas fa-weight text-warning me-2"></i>Adjust scoring weights</li>
                                                <li><i class="fas fa-robot text-info me-2"></i>AI-powered suggestions</li>
                                                <li><i class="fas fa-vial text-primary me-2"></i>Test your changes</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mock-dashboard">
                                                <div class="alert alert-warning">
                                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                                    <strong>Current Status:</strong> Form Builder needs Bootstrap JS fix
                                                </div>
                                                <button class="mock-button w-100 mb-2" onclick="showBuilderStatus()">
                                                    <i class="fas fa-tools me-2"></i>Check Builder Status
                                                </button>
                                                <div id="builder-status" style="display: none;" class="p-3 border rounded bg-light">
                                                    <h6><i class="fas fa-wrench me-2"></i>Technical Details</h6>
                                                    <p><strong>Issue:</strong> Bootstrap JavaScript not loading properly</p>
                                                    <p><strong>Impact:</strong> Modal dialogs for adding questions don't work</p>
                                                    <p><strong>Workaround:</strong> Use direct form editing for now</p>
                                                    <button class="btn btn-warning btn-sm" onclick="window.open('/builder', '_blank')">
                                                        <i class="fas fa-external-link-alt me-1"></i>Try Builder (Limited)
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="alert alert-info mt-3">
                                    <h6><i class="fas fa-lightbulb me-2"></i>What you can still do:</h6>
                                    <ul class="mb-0">
                                        <li>View all existing questions and their weights</li>
                                        <li>See the total scoring capacity (119 points)</li>
                                        <li>Use the AI suggestions feature</li>
                                        <li>Test scoring with current rules</li>
                                    </ul>
                                </div>
                                <button class="btn btn-primary mt-3" onclick="window.open('/builder', '_blank')">
                                    <i class="fas fa-external-link-alt me-1"></i>Open Form Builder
                                </button>
                            </div>
                        `
                    },
                    {
                        title: 'Understanding Current Questions',
                        content: `
                            <div class="demo-container">
                                <h4><i class="fas fa-list me-2"></i>Current Form Structure</h4>
                                <div class="interactive-demo">
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header bg-primary text-white">
                                                    <h6 class="mb-0">Personal Credit (Weight: 42)</h6>
                                                </div>
                                                <div class="card-body">
                                                    <small>Owner credit scores, utilization, inquiries</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header bg-success text-white">
                                                    <h6 class="mb-0">Business Info (Weight: 30)</h6>
                                                </div>
                                                <div class="card-body">
                                                    <small>Revenue, time in business, industry</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header bg-warning text-white">
                                                    <h6 class="mb-0">Bank Analysis (Weight: 25)</h6>
                                                </div>
                                                <div class="card-body">
                                                    <small>Cash flow, deposits, balances</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header bg-info text-white">
                                                    <h6 class="mb-0">Other Factors (Weight: 22)</h6>
                                                </div>
                                                <div class="card-body">
                                                    <small>Assets, verification, online presence</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="alert alert-success mt-3">
                                        <strong>Total Scoring Capacity:</strong> 119 points maximum
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ]
            }
        };

        let currentTutorial = null;
        let currentStep = 0;

        // Event listener for tutorial cards
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.tutorial-card').forEach(card => {
                card.addEventListener('click', function() {
                    const tutorialId = this.getAttribute('data-tutorial');
                    openTutorial(tutorialId);
                });
            });
        });

        function openTutorial(tutorialId) {
            currentTutorial = tutorials[tutorialId];
            if (!currentTutorial) return;

            currentStep = 0;
            document.getElementById('modalTitle').textContent = currentTutorial.title;
            loadStep(0);

            const modal = new bootstrap.Modal(document.getElementById('tutorialModal'));
            modal.show();
        }

        function loadStep(stepIndex) {
            const step = currentTutorial.steps[stepIndex];
            if (!step) return;

            const stepsContainer = document.getElementById('tutorialSteps');
            stepsContainer.innerHTML = `
                <div class="step-indicator">
                    ${currentTutorial.steps.map((_, index) => `
                        <div class="step ${index === stepIndex ? 'active' : ''} ${index < stepIndex ? 'completed' : ''}">
                            ${index + 1}
                        </div>
                    `).join('')}
                </div>
                <h3 class="text-white mb-3">${step.title}</h3>
                ${step.content}
            `;

            // Update navigation buttons
            document.getElementById('prevBtn').disabled = stepIndex === 0;
            document.getElementById('nextBtn').textContent = stepIndex === currentTutorial.steps.length - 1 ? 'Complete' : 'Next';
            document.getElementById('nextBtn').innerHTML = stepIndex === currentTutorial.steps.length - 1 ? 
                'Complete<i class="fas fa-check ms-1"></i>' : 'Next<i class="fas fa-arrow-right ms-1"></i>';
        }

        function nextStep() {
            if (currentStep < currentTutorial.steps.length - 1) {
                currentStep++;
                loadStep(currentStep);
            } else {
                // Tutorial completed
                bootstrap.Modal.getInstance(document.getElementById('tutorialModal')).hide();
                showCompletionMessage();
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                loadStep(currentStep);
            }
        }

        function showCompletionMessage() {
            const toast = document.createElement('div');
            toast.className = 'toast show position-fixed';
            toast.style.cssText = 'top: 20px; right: 20px; z-index: 2000;';
            toast.innerHTML = `
                <div class="toast-header bg-success text-white">
                    <i class="fas fa-trophy me-2"></i>
                    <strong class="me-auto">Tutorial Complete!</strong>
                </div>
                <div class="toast-body">
                    Great job! You've completed the tutorial. Ready to try it for real?
                </div>
            `;
            document.body.appendChild(toast);

            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 5000);
        }

        // Interactive demo functions
        function highlightFeature(feature) {
            const descriptions = {
                'scorecard': 'Risk Scorecard: AI-powered assessment tool that analyzes creditworthiness and generates loan offers.',
                'builder': 'Form Builder: Customize assessment forms, add questions, and adjust scoring weights.',
                'insights': 'Analytics: View trends, generate reports, and gain insights from assessment data.',
                'admin': 'Admin Panel: Manage users, monitor system performance, and configure settings.'
            };

            const highlight = document.getElementById('feature-highlight');
            highlight.style.display = 'block';
            highlight.innerHTML = `<p><strong>${descriptions[feature]}</strong></p>`;
        }

        function simulateFormLoad() {
            const preview = document.getElementById('form-preview');
            preview.style.display = 'block';
            
            setTimeout(() => {
                preview.scrollIntoView({ behavior: 'smooth' });
            }, 300);
        }

        function showBuilderDemo() {
            const demo = document.getElementById('builder-demo');
            demo.style.display = demo.style.display === 'none' ? 'block' : 'none';
        }

        function showBuilderStatus() {
            const status = document.getElementById('builder-status');
            status.style.display = status.style.display === 'none' ? 'block' : 'none';
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('#tutorialModal input[type="checkbox"]');
            const checked = document.querySelectorAll('#tutorialModal input[type="checkbox"]:checked');
            const percentage = Math.round((checked.length / checkboxes.length) * 100);
            
            document.getElementById('onboardingProgress').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage;
        }

        function showQuickHelp() {
            const helpModal = document.createElement('div');
            helpModal.className = 'modal fade';
            helpModal.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content" style="background: rgba(0,0,0,0.95); border: none;">
                        <div class="modal-header border-0">
                            <h5 class="modal-title text-white">
                                <i class="fas fa-graduation-cap me-2"></i>Welcome to Qarari Tutorials!
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body text-white">
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-mouse-pointer me-2 text-primary"></i>Interactive Learning</h6>
                                    <ul>
                                        <li>Click any tutorial card to start</li>
                                        <li>Use navigation buttons to move between steps</li>
                                        <li>Interactive demos work in real-time</li>
                                        <li>Try live examples within tutorials</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-external-link-alt me-2 text-success"></i>Live Platform Access</h6>
                                    <ul>
                                        <li>Use "Try Real Assessment" buttons</li>
                                        <li>Open actual platform features</li>
                                        <li>Test with your own data</li>
                                        <li>Compare with tutorial examples</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="alert alert-info mt-3">
                                <i class="fas fa-info-circle me-2"></i>
                                <strong>New to the platform?</strong> Start with "Platform Overview" to get familiar with navigation and features.
                            </div>
                        </div>
                        <div class="modal-footer border-0">
                            <button type="button" class="btn btn-outline-light" data-bs-dismiss="modal">Got it!</button>
                            <button type="button" class="btn btn-primary" onclick="openTutorial('platform-overview')" data-bs-dismiss="modal">
                                Start First Tutorial
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(helpModal);
            
            const modal = new bootstrap.Modal(helpModal);
            modal.show();
            
            helpModal.addEventListener('hidden.bs.modal', function() {
                document.body.removeChild(helpModal);
            });
        }

        // Demo interaction functions
        let demoScore = 0;
        let demoRevenue = 0;

        function updateDemoScore(value) {
            demoScore = parseInt(value) || 0;
            updateDemoResult();
        }

        function updateDemoRevenue(value) {
            demoRevenue = parseInt(value) || 0;
            updateDemoResult();
        }

        function updateDemoResult() {
            if (demoScore > 0 || demoRevenue > 0) {
                const resultDiv = document.getElementById('demo-result');
                const scoreText = document.getElementById('demo-score-text');
                
                let calculatedScore = 0;
                let message = '';
                
                if (demoScore >= 700 && demoRevenue >= 100000) {
                    calculatedScore = 85;
                    message = 'Excellent! High credit score and strong revenue = Low Risk (85/100)';
                } else if (demoScore >= 600 && demoRevenue >= 50000) {
                    calculatedScore = 70;
                    message = 'Good! Decent credit and revenue = Moderate Risk (70/100)';
                } else if (demoScore > 0 && demoRevenue > 0) {
                    calculatedScore = 55;
                    message = 'Fair assessment based on current inputs = High Risk (55/100)';
                } else {
                    message = 'Enter both values to see scoring calculation';
                }
                
                scoreText.textContent = message;
                resultDiv.style.display = 'block';
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function showAssessmentTips() {
            const tips = document.getElementById('assessment-tips');
            tips.style.display = tips.style.display === 'none' ? 'block' : 'none';
            if (tips.style.display === 'block') {
                tips.scrollIntoView({ behavior: 'smooth' });
            }
        }
    </script>
</body>
</html>
