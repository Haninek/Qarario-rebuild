
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform Tutorials - Qarari</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
            --shadow-soft: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --backdrop-blur: blur(4px);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-morphism {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
        }

        .tutorial-card {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
            height: 100%;
            overflow: hidden;
        }

        .tutorial-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .tutorial-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin-bottom: 1.5rem;
        }

        .video-modal .modal-dialog {
            max-width: 90vw;
            max-height: 90vh;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            border-radius: 10px;
        }

        .tutorial-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .chapter-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .chapter-item {
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: rgba(255,255,255,0.1);
        }

        .chapter-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }

        .chapter-item.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .progress-bar-custom {
            height: 8px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .navbar {
            background: var(--glass-bg) !important;
            backdrop-filter: var(--backdrop-blur);
            border: none !important;
        }

        .navbar-brand {
            font-weight: 800;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .search-box {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 25px;
            padding: 12px 20px;
            color: white;
            width: 100%;
            max-width: 400px;
        }

        .search-box::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .floating-help {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .help-bubble {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 50px;
            padding: 15px 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .help-bubble:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-graduation-cap me-2"></i>Qarari Tutorials
            </a>
            <div class="d-flex align-items-center">
                <input type="text" class="search-box me-3" placeholder="Search tutorials..." id="searchTutorials">
                <a href="/dashboard" class="btn btn-outline-light">
                    <i class="fas fa-home me-1"></i>Dashboard
                </a>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <div class="container mt-4 mb-5">
        <div class="glass-morphism p-5 text-center text-white">
            <h1 class="display-4 fw-bold mb-3">
                <i class="fas fa-play-circle me-3"></i>Platform Tutorial Center
            </h1>
            <p class="fs-5 opacity-90 mb-4">
                Master every feature of the Qarari Financial Intelligence Platform with our comprehensive video guides
            </p>
            <div class="row g-3 justify-content-center">
                <div class="col-auto">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-clock me-2"></i>
                        <span>Total Runtime: 2h 45m</span>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-video me-2"></i>
                        <span>25+ Tutorial Videos</span>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-certificate me-2"></i>
                        <span>Expert Level Training</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Start Section -->
    <div class="container mb-5">
        <h2 class="text-white mb-4 text-center">
            <i class="fas fa-rocket me-2"></i>Quick Start Guide
        </h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="tutorial-card p-4 text-center position-relative" onclick="openTutorial('platform-overview')">
                    <div class="tutorial-badge">5 min</div>
                    <div class="tutorial-icon mx-auto" style="background: linear-gradient(45deg, #667eea, #764ba2);">
                        <i class="fas fa-compass"></i>
                    </div>
                    <h5 class="text-white mb-3">Platform Overview</h5>
                    <p class="text-white-50 mb-3">Get familiar with the dashboard and navigation</p>
                    <button class="btn btn-light btn-sm">
                        <i class="fas fa-play me-1"></i>Watch Now
                    </button>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tutorial-card p-4 text-center position-relative" onclick="openTutorial('first-assessment')">
                    <div class="tutorial-badge">8 min</div>
                    <div class="tutorial-icon mx-auto" style="background: linear-gradient(45deg, #4facfe, #00f2fe);">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h5 class="text-white mb-3">Your First Assessment</h5>
                    <p class="text-white-50 mb-3">Step-by-step guide to creating risk assessments</p>
                    <button class="btn btn-light btn-sm">
                        <i class="fas fa-play me-1"></i>Watch Now
                    </button>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tutorial-card p-4 text-center position-relative" onclick="openTutorial('understanding-results')">
                    <div class="tutorial-badge">6 min</div>
                    <div class="tutorial-icon mx-auto" style="background: linear-gradient(45deg, #43e97b, #38f9d7);">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h5 class="text-white mb-3">Understanding Results</h5>
                    <p class="text-white-50 mb-3">How to interpret scores and loan offers</p>
                    <button class="btn btn-light btn-sm">
                        <i class="fas fa-play me-1"></i>Watch Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Core Features Tutorials -->
    <div class="container mb-5">
        <h2 class="text-white mb-4 text-center">
            <i class="fas fa-gem me-2"></i>Core Features
        </h2>
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="tutorial-card p-4 position-relative" onclick="openTutorial('risk-scorecard')">
                    <div class="tutorial-badge">15 min</div>
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #667eea, #764ba2); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">Smart Risk Scorecard</h5>
                            <p class="text-white-50 mb-3">Master the AI-driven assessment process</p>
                            <div class="progress-bar-custom mb-2">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <small class="text-white-50">7 chapters • Advanced level</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="tutorial-card p-4 position-relative" onclick="openTutorial('analytics-engine')">
                    <div class="tutorial-badge">12 min</div>
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #4facfe, #00f2fe); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">Analytics Engine</h5>
                            <p class="text-white-50 mb-3">Explore insights and business intelligence</p>
                            <div class="progress-bar-custom mb-2">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <small class="text-white-50">5 chapters • Intermediate level</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="tutorial-card p-4 position-relative" onclick="openTutorial('form-builder')">
                    <div class="tutorial-badge">20 min</div>
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #fa709a, #fee140); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">Form Builder</h5>
                            <p class="text-white-50 mb-3">Create and customize assessment forms</p>
                            <div class="progress-bar-custom mb-2">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <small class="text-white-50">8 chapters • Expert level</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="tutorial-card p-4 position-relative" onclick="openTutorial('admin-panel')">
                    <div class="tutorial-badge">18 min</div>
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #2c3e50, #3498db); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">Admin Panel</h5>
                            <p class="text-white-50 mb-3">System management and monitoring</p>
                            <div class="progress-bar-custom mb-2">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <small class="text-white-50">6 chapters • Expert level</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Features -->
    <div class="container mb-5">
        <h2 class="text-white mb-4 text-center">
            <i class="fas fa-robot me-2"></i>AI & Machine Learning
        </h2>
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="tutorial-card p-4 position-relative" onclick="openTutorial('ml-training')">
                    <div class="tutorial-badge">25 min</div>
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #43e97b, #38f9d7); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">ML Model Training</h5>
                            <p class="text-white-50 mb-3">Train custom AI models for risk prediction</p>
                            <div class="progress-bar-custom mb-2">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <small class="text-white-50">10 chapters • Expert level</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="tutorial-card p-4 position-relative" onclick="openTutorial('api-integration')">
                    <div class="tutorial-badge">30 min</div>
                    <div class="d-flex align-items-start">
                        <div class="tutorial-icon me-3" style="background: linear-gradient(45deg, #f093fb, #f5576c); width: 60px; height: 60px; font-size: 1.5rem;">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="text-white mb-2">API Integration</h5>
                            <p class="text-white-50 mb-3">Enterprise API setup and usage</p>
                            <div class="progress-bar-custom mb-2">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <small class="text-white-50">12 chapters • Expert level</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div class="modal fade video-modal" id="tutorialModal" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content" style="background: rgba(0,0,0,0.9); border: none;">
                <div class="modal-header border-0">
                    <h5 class="modal-title text-white" id="modalTitle"></h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="video-container">
                                <div class="video-placeholder" id="videoPlaceholder">
                                    <div class="text-center">
                                        <i class="fas fa-play-circle fa-3x mb-3"></i>
                                        <h5>Tutorial Video</h5>
                                        <p>Click play to start the tutorial</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="text-white mb-0" id="chapterTitle">Introduction</h6>
                                    <span class="text-white-50" id="chapterTime">0:00 / 5:30</span>
                                </div>
                                <div class="progress-bar-custom">
                                    <div class="progress-fill" id="videoProgress" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <h6 class="text-white mb-3">Tutorial Chapters</h6>
                            <div class="chapter-list" id="chapterList">
                                <!-- Chapters will be loaded here -->
                            </div>
                            <div class="mt-4">
                                <h6 class="text-white mb-3">Tutorial Resources</h6>
                                <div class="d-grid gap-2">
                                    <button class="btn btn-outline-light btn-sm">
                                        <i class="fas fa-download me-1"></i>Download Guide
                                    </button>
                                    <button class="btn btn-outline-light btn-sm">
                                        <i class="fas fa-question-circle me-1"></i>Get Help
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Help -->
    <div class="floating-help">
        <div class="help-bubble" onclick="openTutorial('getting-help')">
            <i class="fas fa-question-circle me-2"></i>Need Help?
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Tutorial data structure
        const tutorials = {
            'platform-overview': {
                title: 'Platform Overview',
                duration: '5:30',
                chapters: [
                    { title: 'Welcome to Qarari', duration: '1:20' },
                    { title: 'Dashboard Navigation', duration: '2:10' },
                    { title: 'Main Features Overview', duration: '2:00' }
                ]
            },
            'first-assessment': {
                title: 'Your First Assessment',
                duration: '8:45',
                chapters: [
                    { title: 'Starting an Assessment', duration: '2:30' },
                    { title: 'Filling the Form', duration: '3:15' },
                    { title: 'Reviewing Results', duration: '2:00' },
                    { title: 'Downloading Reports', duration: '1:00' }
                ]
            },
            'understanding-results': {
                title: 'Understanding Results',
                duration: '6:20',
                chapters: [
                    { title: 'Score Breakdown', duration: '2:40' },
                    { title: 'Risk Tiers Explained', duration: '2:20' },
                    { title: 'Loan Offers Analysis', duration: '1:20' }
                ]
            },
            'risk-scorecard': {
                title: 'Smart Risk Scorecard',
                duration: '15:30',
                chapters: [
                    { title: 'Introduction to Risk Scoring', duration: '2:00' },
                    { title: 'Personal Credit Analysis', duration: '2:30' },
                    { title: 'Business Information Review', duration: '2:45' },
                    { title: 'Bank Analysis Features', duration: '3:00' },
                    { title: 'Background Verification', duration: '2:15' },
                    { title: 'Digital Footprint Assessment', duration: '2:00' },
                    { title: 'Generating Final Scores', duration: '1:00' }
                ]
            },
            'analytics-engine': {
                title: 'Analytics Engine',
                duration: '12:15',
                chapters: [
                    { title: 'Analytics Dashboard Overview', duration: '2:30' },
                    { title: 'Real-time Insights', duration: '3:00' },
                    { title: 'Historical Trends', duration: '2:45' },
                    { title: 'Custom Reports', duration: '2:30' },
                    { title: 'Export and Sharing', duration: '1:30' }
                ]
            },
            'form-builder': {
                title: 'Form Builder',
                duration: '20:45',
                chapters: [
                    { title: 'Builder Interface Tour', duration: '3:00' },
                    { title: 'Adding New Questions', duration: '3:30' },
                    { title: 'Setting Scoring Weights', duration: '2:45' },
                    { title: 'Question Types & Validation', duration: '3:00' },
                    { title: 'AI Suggestions Feature', duration: '2:30' },
                    { title: 'Testing Your Forms', duration: '2:00' },
                    { title: 'Publishing Changes', duration: '2:00' },
                    { title: 'Best Practices', duration: '2:00' }
                ]
            },
            'admin-panel': {
                title: 'Admin Panel',
                duration: '18:20',
                chapters: [
                    { title: 'Admin Dashboard Overview', duration: '3:00' },
                    { title: 'User Management', duration: '3:30' },
                    { title: 'System Monitoring', duration: '2:50' },
                    { title: 'Audit Logs', duration: '3:00' },
                    { title: 'Configuration Settings', duration: '3:00' },
                    { title: 'Backup & Security', duration: '3:00' }
                ]
            },
            'ml-training': {
                title: 'ML Model Training',
                duration: '25:40',
                chapters: [
                    { title: 'ML Dashboard Introduction', duration: '2:30' },
                    { title: 'Data Preparation', duration: '3:45' },
                    { title: 'Algorithm Selection', duration: '3:00' },
                    { title: 'Training Configuration', duration: '3:30' },
                    { title: 'Monitoring Training Progress', duration: '2:45' },
                    { title: 'Model Evaluation', duration: '3:00' },
                    { title: 'Hyperparameter Tuning', duration: '3:30' },
                    { title: 'Model Deployment', duration: '2:20' },
                    { title: 'Performance Monitoring', duration: '2:20' },
                    { title: 'Model Updates & Versioning', duration: '3:00' }
                ]
            },
            'api-integration': {
                title: 'API Integration',
                duration: '30:15',
                chapters: [
                    { title: 'API Overview', duration: '2:30' },
                    { title: 'Authentication Setup', duration: '3:00' },
                    { title: 'Making Your First API Call', duration: '2:45' },
                    { title: 'Handling Responses', duration: '2:30' },
                    { title: 'Error Handling', duration: '2:00' },
                    { title: 'Rate Limiting', duration: '1:30' },
                    { title: 'Webhook Configuration', duration: '3:00' },
                    { title: 'Testing in Sandbox', duration: '2:30' },
                    { title: 'Production Deployment', duration: '3:00' },
                    { title: 'Monitoring & Analytics', duration: '2:30' },
                    { title: 'Best Practices', duration: '2:30' },
                    { title: 'Troubleshooting', duration: '2:30' }
                ]
            },
            'getting-help': {
                title: 'Getting Help',
                duration: '4:15',
                chapters: [
                    { title: 'Support Channels', duration: '1:30' },
                    { title: 'Documentation Resources', duration: '1:45' },
                    { title: 'Community Forum', duration: '1:00' }
                ]
            }
        };

        let currentTutorial = null;
        let currentChapter = 0;
        let simulatedProgress = 0;
        let progressInterval = null;

        // Open tutorial modal
        function openTutorial(tutorialId) {
            currentTutorial = tutorials[tutorialId];
            currentChapter = 0;
            
            if (!currentTutorial) return;

            document.getElementById('modalTitle').textContent = currentTutorial.title;
            loadChapters();
            playChapter(0);
            
            const modal = new bootstrap.Modal(document.getElementById('tutorialModal'));
            modal.show();
        }

        // Load chapters into sidebar
        function loadChapters() {
            const chapterList = document.getElementById('chapterList');
            chapterList.innerHTML = '';

            currentTutorial.chapters.forEach((chapter, index) => {
                const chapterItem = document.createElement('div');
                chapterItem.className = `chapter-item ${index === 0 ? 'active' : ''}`;
                chapterItem.innerHTML = `
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="fw-medium">${index + 1}. ${chapter.title}</div>
                            <small class="opacity-75">${chapter.duration}</small>
                        </div>
                        <i class="fas fa-play-circle"></i>
                    </div>
                `;
                chapterItem.onclick = () => playChapter(index);
                chapterList.appendChild(chapterItem);
            });
        }

        // Play specific chapter
        function playChapter(chapterIndex) {
            currentChapter = chapterIndex;
            const chapter = currentTutorial.chapters[chapterIndex];

            // Update UI
            document.getElementById('chapterTitle').textContent = chapter.title;
            document.getElementById('chapterTime').textContent = `0:00 / ${chapter.duration}`;

            // Update active chapter
            document.querySelectorAll('.chapter-item').forEach((item, index) => {
                item.classList.toggle('active', index === chapterIndex);
            });

            // Simulate video playback
            simulateVideoPlayback(chapter.duration);
        }

        // Simulate video playback with progress
        function simulateVideoPlayback(duration) {
            clearInterval(progressInterval);
            simulatedProgress = 0;
            
            // Convert duration to seconds for calculation
            const [minutes, seconds] = duration.split(':').map(Number);
            const totalSeconds = minutes * 60 + seconds;
            
            // Update progress every 100ms
            progressInterval = setInterval(() => {
                simulatedProgress += 100; // 100ms intervals
                const progressPercent = Math.min((simulatedProgress / (totalSeconds * 1000)) * 100, 100);
                
                document.getElementById('videoProgress').style.width = progressPercent + '%';
                
                // Update time display
                const currentSeconds = Math.floor(simulatedProgress / 1000);
                const currentMinutes = Math.floor(currentSeconds / 60);
                const remainingSeconds = currentSeconds % 60;
                const timeDisplay = `${currentMinutes}:${remainingSeconds.toString().padStart(2, '0')} / ${duration}`;
                document.getElementById('chapterTime').textContent = timeDisplay;
                
                if (progressPercent >= 100) {
                    clearInterval(progressInterval);
                    // Auto-advance to next chapter after 1 second
                    setTimeout(() => {
                        if (currentChapter < currentTutorial.chapters.length - 1) {
                            playChapter(currentChapter + 1);
                        }
                    }, 1000);
                }
            }, 100);
        }

        // Search functionality
        document.getElementById('searchTutorials').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const tutorialCards = document.querySelectorAll('.tutorial-card');
            
            tutorialCards.forEach(card => {
                const title = card.querySelector('h5').textContent.toLowerCase();
                const description = card.querySelector('p').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Clean up intervals when modal is closed
        document.getElementById('tutorialModal').addEventListener('hidden.bs.modal', function() {
            clearInterval(progressInterval);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('tutorialModal').classList.contains('show')) {
                switch(e.key) {
                    case 'ArrowLeft':
                        if (currentChapter > 0) playChapter(currentChapter - 1);
                        break;
                    case 'ArrowRight':
                        if (currentChapter < currentTutorial.chapters.length - 1) playChapter(currentChapter + 1);
                        break;
                    case ' ':
                        e.preventDefault();
                        // Toggle play/pause simulation
                        break;
                }
            }
        });

        // Auto-start platform overview when page loads
        window.addEventListener('load', function() {
            // Show a welcome tooltip
            setTimeout(() => {
                const tooltip = document.createElement('div');
                tooltip.className = 'alert alert-info alert-dismissible fade show position-fixed';
                tooltip.style.cssText = 'top: 100px; right: 20px; z-index: 1050; max-width: 300px;';
                tooltip.innerHTML = `
                    <strong>Welcome!</strong> Click on "Platform Overview" to get started with your first tutorial.
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                `;
                document.body.appendChild(tooltip);
                
                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (tooltip.parentNode) {
                        tooltip.remove();
                    }
                }, 5000);
            }, 1000);
        });
    </script>
</body>
</html>
